<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CEVDET â¤ï¸ NEHÄ°R</title>
<style>
body{background:black;color:white;font-family:Arial;text-align:center;padding:30px;}
input,button{padding:10px;margin:5px;border-radius:8px;border:none;}
button{background:#ff0066;color:white;cursor:pointer;}
#messages{margin-top:20px;max-height:300px;overflow:auto;border:1px solid white;padding:10px;}
</style>
</head>
<body>

<h1>CEVDET â¤ï¸ NEHÄ°R</h1>

<input id="name" placeholder="AdÄ±n">
<input id="message" placeholder="MesajÄ±n">
<button id="sendBtn">GÃ¶nder ğŸ’Œ</button>

<div id="messages"></div>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, push, onChildAdded } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "AIzaSyBBpOuqC6_AQo5jCF0pF_l2jhMWS-vkdIY",
  authDomain: "cevdethenote.firebaseapp.com",
  databaseURL: "https://cevdethenote-default-rtdb.europe-west1.firebasedatabase.app",
  projectId: "cevdethenote",
  storageBucket: "cevdethenote.firebasestorage.app",
  messagingSenderId: "53779979760",
  appId: "1:53779979760:web:8b7722fc6f80244027d135"
};

const app = initializeApp(firebaseConfig);
const db = getDatabase(app);

const sendBtn = document.getElementById("sendBtn");

sendBtn.addEventListener("click", async () => {
  try {
    const name = document.getElementById("name").value;
    const message = document.getElementById("message").value;

    if(name === "" || message === ""){
      alert("BoÅŸ bÄ±rakma tontisko ğŸ˜…");
      return;
    }

    await push(ref(db, "messages"), {
      name: name,
      message: message
    });

    document.getElementById("message").value = "";
    console.log("Mesaj gÃ¶nderildi");
  } catch(error){
    alert("Hata: " + error.message);
    console.log(error);
  }
});

onChildAdded(ref(db, "messages"), (data)=>{
  const msg = data.val();
  const div = document.createElement("div");
  div.innerHTML = "<b>" + msg.name + ":</b> " + msg.message;
  document.getElementById("messages").appendChild(div);
});

</script>

</body>
</html>
